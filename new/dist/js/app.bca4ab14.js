(function(){var e={5380:function(e,t,n){"use strict";n.r(t);var o=n(6150),r=n.n(o),i=n(1505),a=n.n(i),s=new(r())({id:"icon-shouye",use:"icon-shouye-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-shouye"><path d="M463.6 16.6L121.1 264.1c-65 47-31.8 149.7 48.4 149.7h685c80.2 0 113.5-102.8 48.4-149.7L560.4 16.6c-28.9-20.9-67.9-20.9-96.8 0zM928.9 582.5c0-55.5-45-100.5-100.5-100.5H195.6c-55.5 0-100.5 45-100.5 100.5V606.3C95.1 837 281.7 1024 512 1024s416.9-187 416.9-417.8v-23.7z" fill="#17A4D4" p-id="809" /><path d="M222.3 591m-76.5 0a76.5 76.5 0 1 0 153 0 76.5 76.5 0 1 0-153 0Z" fill="#2c2c2c" p-id="810" /><path d="M801.7 591m-76.5 0a76.5 76.5 0 1 0 153 0 76.5 76.5 0 1 0-153 0Z" fill="#2c2c2c" p-id="811" /><path d="M359 781.7c9.9 78.3 74.6 138.7 153 138.7S655.1 860 665 781.7H359z" fill="#2c2c2c" p-id="812" /><path d="M263.9 252.2c-5.3 0-10.5-2.4-13.8-7-5.5-7.6-3.8-18.2 3.8-23.7l73.7-53.2c7.6-5.5 18.2-3.8 23.7 3.8s3.8 18.2-3.8 23.7L273.8 249c-2.9 2.1-6.4 3.2-9.9 3.2z" fill="#2c2c2c" p-id="813" /><path d="M384.7 164c-5.3 0-10.5-2.4-13.8-7-5.5-7.6-3.8-18.2 3.8-23.7L404 112c7.6-5.5 18.2-3.8 23.7 3.8s3.8 18.2-3.8 23.7l-29.3 21.2c-3 2.3-6.5 3.3-9.9 3.3z" fill="#2c2c2c" p-id="814" /></symbol>'});a().add(s);t["default"]=s},9241:function(e,t,n){"use strict";var o=n(9318),r=n(5030),i=(n(425),n(700)),a=n(9718),s={__name:"App",setup(e){return a.A.commit("setting/changewh"),window.addEventListener("resize",(()=>{a.A.commit("setting/changewh")})),document.title="新闻",(e,t)=>{const n=(0,i.g2)("router-view");return(0,i.uX)(),(0,i.Wv)(n)}}};const c=s;var u=c,l=n(4006),d=n(1876);const m=["href"];function f(e,t,n,o,r,a){return(0,i.uX)(),(0,i.CE)("svg",{class:(0,d.C4)(["svg-class",n.className])},[(0,i.Lk)("use",{href:"#icon-"+n.iconName},null,8,m)],2)}n(1454);var p={name:"SvgIcon",props:{iconName:{type:String,default:""},className:{type:String,default:""}},setup(){const e=n(4838),t=e=>e.keys().map(e);t(e)}},h=n(5253);const g=(0,h.A)(p,[["render",f],["__scopeId","data-v-74711c4d"]]);var v=g;const w=(0,o.Ef)(u);w.use(a.A).use(l.A).use(r.A).component("svg-icon",v).mount("#app"),w.directive("drag",(e=>{const t=e;document.onselectstart=function(){return!1},t.onmousedown=function(e){const n=e.clientX-t.offsetLeft,o=e.clientY-t.offsetTop;return document.onmousemove=function(e){const r=e.clientX-n,i=e.clientY-o;t.style.left=r+"px",t.style.top=i+"px"},document.onmouseup=function(e){document.onmousemove=null,document.onmouseup=null},!1}}))},4006:function(e,t,n){"use strict";n(4114);var o=n(83),r=n(9718);const i=[{path:"/",name:"login",component:()=>n.e(154).then(n.bind(n,4154)),meta:{title:"登录"}},{path:"/:pathMatch(.*)*",name:"NotFound",component:()=>n.e(403).then(n.bind(n,5403))}],a=(0,o.aE)({history:(0,o.Bt)(),routes:i});a.beforeEach(((e,t,n)=>{const o=r.A.state.permission.userRouter,i=window.localStorage.getItem("token")||"";if(""!==i)if(0===o.length){const e={username:"",password:"",path:""};let t=window.localStorage.getItem("user");t&&(t=JSON.parse(t),e.username=t.username,e.password=t.password,e.path=window.location.href.split("#")[1],r.A.dispatch("user/login",e)),n()}else{if(e.meta.title&&""!==e.meta.title){document.title=e.meta.title;const t=r.A.state.permission.dynamicTags,n=t.findIndex((t=>t.path===e.path));if(-1===n&&(t.push({id:t.length+1,name:e.name,title:e.meta.title,path:e.path}),r.A.commit("permission/change_dynamicTags",t)),e.meta.keepAlive){const t=r.A.state.permission.needKeepAlive.findIndex((t=>t===e.name));-1===t&&r.A.commit("permission/change_needKeepAlive",e.name)}}n()}else"/"===e.path?n():n({name:"NotFound"})})),a.afterEach(((e,t,n)=>{const o=window.location.href.split("#")[1];r.A.commit("user/change_activeDetail",o)}));t.A=a},9718:function(e,t,n){"use strict";n.d(t,{A:function(){return h}});var o=n(591);const r={namespaced:!0,state:{screenHeight:"",screenWidth:"",status:!1},getters:{},mutations:{changewh(e,t){e.screenHeight=window.innerHeight,e.screenWidth=window.innerWidth},change_status(e,t){e.status=!e.status}},actions:{},modules:{}};var i=r,a=(n(4114),n(2636)),s={Login(e){return(0,a.A)({method:"post",url:"/api/auth/login",data:e})}},c=n(6927),u=n(4006);const l={namespaced:!0,state:{userDetail:"",userLeavel:"",activeDetail:""},getters:{},mutations:{change_userDetail(e,t){e.userDetail=t,window.localStorage.setItem("user",JSON.stringify(t))},change_userLeavel(e,t){e.userLeavel=t},change_userMeta(e,t){e.userMeta=t},change_activeDetail(e,t){e.activeDetail=t},login_out(e,t){e.userDetail="",e.userLeavel="",e.activeDetail="",window.localStorage.removeItem("user"),window.localStorage.removeItem("token"),window.localStorage.removeItem("router"),h.commit("permission/delete_needKeepAlive",[]),h.commit("permission/change_dynamicTags",[]),u.A.push("/")}},actions:{login({state:e},t){s.Login(t).then((n=>{if(200===n.code){const o="admin"===n.data.user?1:2,r=t.path;e.userDetail=n.data.user,e.userLeavel=o,window.localStorage.setItem("token",n.data.token),h.dispatch("permission/addDynamicRoutes",{userLeavel:o,path:r}),""===r&&c.nk.success({message:"登录成功，欢迎回来！"})}else c.nk.error({message:n.msg})}))}},modules:{}};var d=l;n(8992),n(4520),n(3949);const m={namespaced:!0,state:{userMeta:[],userRouter:[],needKeepAlive:[],dynamicTags:[]},getters:{},mutations:{change_userMeta(e,t){e.userMeta=t},change_userRouter(e,t){e.userRouter=t},computed_router(e,t){e.userRouter=t},change_needKeepAlive(e,t){e.needKeepAlive.push(t)},change_dynamicTags(e,t){e.dynamicTags=t.filter((e=>"login"!==e.name))},delete_needKeepAlive(e,t){e.needKeepAlive=t},delete_dynamicTags(e,t){const n=e.needKeepAlive.findIndex((e=>e===t.name));-1!==n&&e.needKeepAlive.splice(n,1),e.dynamicTags.splice(e.dynamicTags.findIndex((e=>e.path===t.path)),1);const o=e.dynamicTags.length-1;0===e.dynamicTags.length?u.A.push("/home"):u.A.push(e.dynamicTags[o].path)}},actions:{addDynamicRoutes({commit:e},t){let n;n=1===t.userLeavel?[{path:"/home",component:"LayOut/LayOut",iconCls:"el-icon-tickets",redirect:"/home/pageone",meta:{title:"新闻",id:"0",keepAlive:!1},children:[{path:"pageone",component:"PageOne/PageOne",name:"PageOne",meta:{title:"新闻列表",id:"0-1",keepAlive:!0}}]}]:[{path:"/home",component:"LayOut/LayOut",iconCls:"el-icon-tickets",redirect:"/home/pageone",meta:{title:"新闻",id:"0",keepAlive:!1},children:[{path:"pageone",component:"PageOne/PageOne",name:"PageOne",meta:{title:"新闻列表",id:"0-1",keepAlive:!0}},{path:"pagetwo",component:"PageTwo/PageTwo",name:"Pagetwo",meta:{title:"收藏列表",id:"0-2",keepAlive:!0}}]}];const o=JSON.parse(JSON.stringify(n));window.localStorage.setItem("router",JSON.stringify(o)),f(n).then((n=>{n.forEach((e=>{u.A.addRoute(e)})),e("change_userRouter",n),u.A.push(""===t.path?"/home":t.path)}))},SET_ROUTER({state:e,commit:t},n){f(e.userRouter).then((e=>{e.forEach((e=>{u.A.addRoute(e)})),u.A.push(n)}))}},modules:{}};async function f(e,t=!1,o=!1){return new Promise(((t,r)=>{const i=e.filter((async e=>{if(e.component){const t=JSON.parse(JSON.stringify(e.component));e.component=()=>n(4235)(`./${t}.vue`)}return null!=e.children&&e.children&&e.children.length?e.children=await f(e.children,e,o):(delete e.children,delete e.redirect),!0}));t(i)}))}var p=m,h=(0,o.y$)({namespaced:!0,state:{BaseUrl:"http://192.168.0.236:8448",wsUrl:""},getters:{getToken(e,t){return window.localStorage.getItem("token")}},mutations:{setToken(e,t){window.localStorage.setItem("token",t)}},actions:{},modules:{setting:i,user:d,permission:p}})},2636:function(e,t,n){"use strict";n.d(t,{A:function(){return l}});var o=n(7474);const r="http://192.168.185.107:8088",i=r;var a={baseUrl:i},s=n(9718),c=n(9158),u=n(6927);o.A.defaults.baseURL=a.baseUrl,o.A.interceptors.request.use((function(e){return e.headers.Authorization=s.A.getters.getToken||"",e.headers["Content-Type"]="application/json",e}),(function(e){return Promise.reject(e)})),o.A.interceptors.response.use((e=>{const t=e.data.code||200;return 401===t?(c.s.confirm("登录状态已过期，请重新登录","系统提示",{confirmButtonText:"重新登录",cancelButtonText:"取消",type:"warning"}).then((()=>{s.A.commit("user/login_out")})),(new Promise).reject("无效的会话，或者会话已过期，请重新登录。")):e.data}),(e=>{let{message:t}=e;"Network Error"===t?t="后端接口连接异常":t.includes("timeout")?t="系统接口请求超时":t.includes("Request failed with status code")&&(t="系统接口"+t.substr(t.length-3)+"异常");const n=t.slice(4,7);return 401===n?c.s.confirm("登录状态已过期，请重新登录","系统提示",{confirmButtonText:"重新登录",cancelButtonText:"取消",type:"warning"}).then((()=>{s.A.commit("user/login_out")})):(0,u.nk)({message:t,type:"error",duration:5e3}),Promise.reject(e)}));var l=o.A},4838:function(e,t,n){var o={"./shouye.svg":5380};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=i,e.exports=r,r.id=4838},4235:function(e,t,n){var o={"./LayOut/LayOut.vue":[3726,726],"./LayOut/LeftView.vue":[5293,293],"./LayOut/RightView.vue":[4061,61],"./LayOut/TopView.vue":[4054,54],"./Login/LogIn.vue":[4154,154],"./NotFound.vue":[5403,403],"./PageOne/PageOne.vue":[2103,103],"./PageTwo/PageTwo.vue":[842,842]};function r(e){if(!n.o(o,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=o[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(o)},r.id=4235,e.exports=r}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o].call(i.exports,i,i.exports,n),i.exports}n.m=e,function(){n.amdO={}}(),function(){var e=[];n.O=function(t,o,r,i){if(!o){var a=1/0;for(l=0;l<e.length;l++){o=e[l][0],r=e[l][1],i=e[l][2];for(var s=!0,c=0;c<o.length;c++)(!1&i||a>=i)&&Object.keys(n.O).every((function(e){return n.O[e](o[c])}))?o.splice(c--,1):(s=!1,i<a&&(a=i));if(s){e.splice(l--,1);var u=r();void 0!==u&&(t=u)}}return t}i=i||0;for(var l=e.length;l>0&&e[l-1][2]>i;l--)e[l]=e[l-1];e[l]=[o,r,i]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,o){return n.f[o](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/"+e+"."+{54:"0d77320b",61:"73133c85",103:"0f1cc993",154:"15739570",293:"ee5cc1cf",403:"2c77d69e",726:"48e5240e",842:"46e87dcf"}[e]+".js"}}(),function(){n.miniCssF=function(e){return"css/"+e+"."+{54:"8e02e741",61:"6328dc33",103:"f365f778",154:"a6a5357b",293:"dbafd545",403:"83d84bf9",726:"81e4f7b9",842:"20786fa6"}[e]+".css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="test1:";n.l=function(o,r,i,a){if(e[o])e[o].push(r);else{var s,c;if(void 0!==i)for(var u=document.getElementsByTagName("script"),l=0;l<u.length;l++){var d=u[l];if(d.getAttribute("src")==o||d.getAttribute("data-webpack")==t+i){s=d;break}}s||(c=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+i),s.src=o),e[o]=[r];var m=function(t,n){s.onerror=s.onload=null,clearTimeout(f);var r=e[o];if(delete e[o],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach((function(e){return e(n)})),t)return t(n)},f=setTimeout(m.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=m.bind(null,s.onerror),s.onload=m.bind(null,s.onload),c&&document.head.appendChild(s)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/"}(),function(){if("undefined"!==typeof document){var e=function(e,t,o,r,i){var a=document.createElement("link");a.rel="stylesheet",a.type="text/css",n.nc&&(a.nonce=n.nc);var s=function(n){if(a.onerror=a.onload=null,"load"===n.type)r();else{var o=n&&n.type,s=n&&n.target&&n.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+o+": "+s+")");c.name="ChunkLoadError",c.code="CSS_CHUNK_LOAD_FAILED",c.type=o,c.request=s,a.parentNode&&a.parentNode.removeChild(a),i(c)}};return a.onerror=a.onload=s,a.href=t,o?o.parentNode.insertBefore(a,o.nextSibling):document.head.appendChild(a),a},t=function(e,t){for(var n=document.getElementsByTagName("link"),o=0;o<n.length;o++){var r=n[o],i=r.getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(i===e||i===t))return r}var a=document.getElementsByTagName("style");for(o=0;o<a.length;o++){r=a[o],i=r.getAttribute("data-href");if(i===e||i===t)return r}},o=function(o){return new Promise((function(r,i){var a=n.miniCssF(o),s=n.p+a;if(t(a,s))return r();e(o,s,null,r,i)}))},r={524:0};n.f.miniCss=function(e,t){var n={54:1,61:1,103:1,154:1,293:1,403:1,726:1,842:1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=o(e).then((function(){r[e]=0}),(function(t){throw delete r[e],t})))}}}(),function(){var e={524:0};n.f.j=function(t,o){var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)o.push(r[2]);else{var i=new Promise((function(n,o){r=e[t]=[n,o]}));o.push(r[2]=i);var a=n.p+n.u(t),s=new Error,c=function(o){if(n.o(e,t)&&(r=e[t],0!==r&&(e[t]=void 0),r)){var i=o&&("load"===o.type?"missing":o.type),a=o&&o.target&&o.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",s.name="ChunkLoadError",s.type=i,s.request=a,r[1](s)}};n.l(a,c,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,o){var r,i,a=o[0],s=o[1],c=o[2],u=0;if(a.some((function(t){return 0!==e[t]}))){for(r in s)n.o(s,r)&&(n.m[r]=s[r]);if(c)var l=c(n)}for(t&&t(o);u<a.length;u++)i=a[u],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(l)},o=self["webpackChunktest1"]=self["webpackChunktest1"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[504],(function(){return n(9241)}));o=n.O(o)})();
//# sourceMappingURL=app.bca4ab14.js.map